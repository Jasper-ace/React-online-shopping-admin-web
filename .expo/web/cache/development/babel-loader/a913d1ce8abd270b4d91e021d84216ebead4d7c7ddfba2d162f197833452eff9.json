{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useEffect, useCallback } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport RefreshControl from \"react-native-web/dist/exports/RefreshControl\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar HomeScreen = function HomeScreen(_ref) {\n  var navigation = _ref.navigation;\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    products = _useState2[0],\n    setProducts = _useState2[1];\n  var _useState3 = useState(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    refreshing = _useState4[0],\n    setRefreshing = _useState4[1];\n  var fetchProducts = useCallback(_asyncToGenerator(function* () {\n    try {\n      var apiUrl = 'http://192.168.1.18/MyReactNative1/products.php';\n      var response = yield fetch(apiUrl);\n      console.log('Response status:', response.status);\n      var text = yield response.text();\n      console.log('Raw response:', text);\n      var data = JSON.parse(text);\n      console.log('Parsed data:', data);\n      setProducts(data);\n    } catch (error) {\n      console.error('Error fetching products:', error);\n    }\n  }), []);\n  useEffect(function () {\n    fetchProducts();\n  }, [fetchProducts]);\n  var onRefresh = useCallback(function () {\n    setRefreshing(true);\n    fetchProducts();\n    setRefreshing(false);\n  }, [fetchProducts]);\n  var renderSquareItem = function renderSquareItem(item) {\n    console.log('Item:', item);\n    return _jsxs(TouchableOpacity, {\n      style: styles.itemContainer,\n      onPress: function onPress() {\n        return navigation.navigate('prod', {\n          product: item\n        });\n      },\n      children: [console.log('Item.Images:', item.Images), item.Images.map(function (image, index) {\n        return _jsx(Image, {\n          source: {\n            uri: image.ImageUrl\n          },\n          style: styles.itemImage\n        }, index);\n      }), _jsx(Text, {\n        style: styles.itemName,\n        children: item.ProductName\n      }), _jsxs(Text, {\n        style: styles.itemPrice,\n        children: [\"Price: $\", item.Price]\n      }), _jsxs(Text, {\n        style: styles.itemStocks,\n        children: [\"Stocks: \", item.Stocks]\n      })]\n    });\n  };\n  var renderTwoItemsPerRow = function renderTwoItemsPerRow() {\n    var rows = [];\n    for (var i = 0; i < products.length; i += 2) {\n      var firstItem = products[i];\n      var secondItem = i + 1 < products.length ? products[i + 1] : null;\n      rows.push(_jsxs(View, {\n        style: styles.row,\n        children: [renderSquareItem(firstItem), secondItem && renderSquareItem(secondItem)]\n      }, i));\n    }\n    return rows;\n  };\n  return _jsxs(ScrollView, {\n    style: styles.container,\n    refreshControl: _jsx(RefreshControl, {\n      refreshing: refreshing,\n      onRefresh: onRefresh\n    }),\n    children: [_jsx(View, {\n      style: styles.header,\n      children: _jsx(Text, {\n        style: styles.title,\n        children: \"Clothing Shop\"\n      })\n    }), renderTwoItemsPerRow()]\n  });\n};\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    padding: 16\n  },\n  header: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 16\n  },\n  title: {\n    fontSize: 24,\n    fontWeight: 'bold'\n  },\n  row: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    marginBottom: 16\n  },\n  itemContainer: {\n    flex: 1,\n    padding: 16,\n    borderWidth: 1,\n    borderColor: '#ddd',\n    borderRadius: 5,\n    height: 250,\n    alignItems: 'center',\n    justifyContent: 'center',\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 0,\n      height: 2\n    },\n    shadowOpacity: 0.3,\n    shadowRadius: 3,\n    elevation: 5\n  },\n  itemName: {\n    fontSize: 18,\n    marginTop: 0\n  },\n  itemPrice: {\n    fontSize: 16,\n    color: 'green',\n    marginTop: 4\n  },\n  itemStocks: {\n    fontSize: 14,\n    color: '#555',\n    marginTop: 4\n  },\n  itemImage: {\n    width: '100%',\n    height: '70%',\n    resizeMode: 'cover',\n    borderRadius: 8,\n    marginBottom: 8\n  }\n});\nexport default HomeScreen;","map":{"version":3,"names":["React","useState","useEffect","useCallback","View","Text","ScrollView","TouchableOpacity","StyleSheet","Image","RefreshControl","jsx","_jsx","jsxs","_jsxs","HomeScreen","_ref","navigation","_useState","_useState2","_slicedToArray","products","setProducts","_useState3","_useState4","refreshing","setRefreshing","fetchProducts","_asyncToGenerator","apiUrl","response","fetch","console","log","status","text","data","JSON","parse","error","onRefresh","renderSquareItem","item","style","styles","itemContainer","onPress","navigate","product","children","Images","map","image","index","source","uri","ImageUrl","itemImage","itemName","ProductName","itemPrice","Price","itemStocks","Stocks","renderTwoItemsPerRow","rows","i","length","firstItem","secondItem","push","row","container","refreshControl","header","title","create","flex","padding","flexDirection","justifyContent","alignItems","marginBottom","fontSize","fontWeight","borderWidth","borderColor","borderRadius","height","shadowColor","shadowOffset","width","shadowOpacity","shadowRadius","elevation","marginTop","color","resizeMode"],"sources":["C:/xampp/htdocs/MyReactNative1/screen/HomeScreen.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\r\nimport { View, Text, ScrollView, TouchableOpacity, StyleSheet, Image, RefreshControl } from 'react-native';\r\n\r\nconst HomeScreen = ({ navigation }) => {\r\n  const [products, setProducts] = useState([]);\r\n  const [refreshing, setRefreshing] = useState(false);\r\n\r\n  const fetchProducts = useCallback(async () => {\r\n    try {\r\n      const apiUrl = 'http://192.168.1.18/MyReactNative1/products.php'; // Replace with your actual API endpoint\r\n      const response = await fetch(apiUrl);\r\n\r\n      console.log('Response status:', response.status);\r\n\r\n      const text = await response.text();\r\n      console.log('Raw response:', text);\r\n\r\n      const data = JSON.parse(text);\r\n      console.log('Parsed data:', data);\r\n\r\n      setProducts(data);\r\n    } catch (error) {\r\n      console.error('Error fetching products:', error);\r\n    }\r\n  }, []);\r\n\r\n\r\n  useEffect(() => {\r\n    fetchProducts();\r\n  }, [fetchProducts]);\r\n\r\n  const onRefresh = useCallback(() => {\r\n    setRefreshing(true);\r\n    fetchProducts();\r\n    setRefreshing(false);\r\n  }, [fetchProducts]);\r\n\r\n  const renderSquareItem = (item) => {\r\n    console.log('Item:', item);\r\n\r\n    return (\r\n      <TouchableOpacity\r\n        style={styles.itemContainer}\r\n        onPress={() => navigation.navigate('prod', { product: item })}\r\n      >\r\n        {/* Add console log to check the content of item.Images */}\r\n        {console.log('Item.Images:', item.Images)}\r\n        {item.Images.map((image, index) => (\r\n          <Image\r\n            key={index}\r\n            source={{ uri: image.ImageUrl }}\r\n            style={styles.itemImage}\r\n          />\r\n        ))}\r\n        <Text style={styles.itemName}>{item.ProductName}</Text>\r\n        <Text style={styles.itemPrice}>Price: ${item.Price}</Text>\r\n        <Text style={styles.itemStocks}>Stocks: {item.Stocks}</Text>\r\n      </TouchableOpacity>\r\n    );\r\n  };\r\n\r\n\r\n  const renderTwoItemsPerRow = () => {\r\n    const rows = [];\r\n    for (let i = 0; i < products.length; i += 2) {\r\n      const firstItem = products[i];\r\n      const secondItem = i + 1 < products.length ? products[i + 1] : null;\r\n\r\n      rows.push(\r\n        <View key={i} style={styles.row}>\r\n          {renderSquareItem(firstItem)}\r\n          {secondItem && renderSquareItem(secondItem)}\r\n        </View>\r\n      );\r\n    }\r\n    return rows;\r\n  };\r\n\r\n  return (\r\n    <ScrollView\r\n      style={styles.container}\r\n      refreshControl={<RefreshControl refreshing={refreshing} onRefresh={onRefresh} />}\r\n    >\r\n      <View style={styles.header}>\r\n        <Text style={styles.title}>Clothing Shop</Text>\r\n      </View>\r\n      {renderTwoItemsPerRow()}\r\n    </ScrollView>\r\n  );\r\n};\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    padding: 16,\r\n  },\r\n  header: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    marginBottom: 16,\r\n  },\r\n  title: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n  },\r\n  row: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    marginBottom: 16,\r\n  },\r\n  itemContainer: {\r\n    flex: 1,\r\n    padding: 16,\r\n    borderWidth: 1,\r\n    borderColor: '#ddd',\r\n    borderRadius: 5,\r\n    height: 250,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    shadowColor: '#000',\r\n    shadowOffset: { width: 0, height: 2 },\r\n    shadowOpacity: 0.3,\r\n    shadowRadius: 3,\r\n    elevation: 5,\r\n  },\r\n  itemName: {\r\n    fontSize: 18,\r\n    marginTop: 0,\r\n  },\r\n  itemPrice: {\r\n    fontSize: 16,\r\n    color: 'green',\r\n    marginTop: 4,\r\n  },\r\n  itemStocks: {\r\n    fontSize: 14,\r\n    color: '#555',\r\n    marginTop: 4,\r\n  },\r\n  itemImage: {\r\n    width: '100%',\r\n    height: '70%',\r\n    resizeMode: 'cover',\r\n    borderRadius: 8,\r\n    marginBottom: 8,\r\n  },\r\n});\r\n\r\nexport default HomeScreen;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}